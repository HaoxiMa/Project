x<-factor(c("Ex","Po","In","Ex","Po"),ordered = TRUE)
x
x<-factor(c("Ex","Po","In","Ex","Po"))
x
riskLevel <- factor(c("MEDIUM","HIGH","HIGH","LOW","MEDIUM"), levels=c("LOW","MEDIUM","HIGH"))
riskLevel
factor(c("MEDIUM","HIGH","HIGH","LOW","MEDIUM"), levels=c("LOW","MEDIUM","HIGH"))
factor(c("MEDIUM","HIGH","HIGH","LOW","MEDIUM"))
factor(c("MEDIUM","HIGH","HIGH","LOW","MEDIUM"))
quiz <- as.factor(c("B-", "A", "B+", NA, "A+", NA, "A", "F", "C-", "C"))
quiz
as.factor(c("B-", "A", "B+", NA, "A+", NA, "A", "F", "C-", "C"))
factor(c("B-", "A", "B+", NA, "A+", NA, "A", "F", "C-", "C"))
x<-data.far
x<-data.frame("hh"=c(1,2,3))
x
x$shit<-2
x
x$fuck<-c(1,4,5)
x
Employ<-read.csv("/Users/mahaoxi/Desktop/5225/homework3/employee.csv",
header=FALSE)
Employ<-read.csv("/Users/mahaoxi/Desktop/5225/homework3/employee.csv",
header=FALSE)
View(Employ)
Employ<-read.csv("/Users/mahaoxi/Desktop/5225/homework3/employee.csv",
header=FALSE)
install.packages("knitr")
library(kintr)
library(knitr)
kable(head(Employ), format = "html")
names(Employ)
aggregate(Employ,by=list(Employ$V1),mean)
aggregate(Employ,by=list(em=Employ$V1),mean)
aggregate(Employ,by=list(V1=Employ$V1),mean)
?option
grep("//d*",x)
isZipCode<-function(x){
grep("//d*",x)
}
isZipCode(7)
isZipCode(5)
isZipCode("5")
isZipCode("5678")
source('~/.active-rstudio-document')
isZipCode("6")
isZipCode("32893294")
isZipCode("3289329ds")
isZipCode("3289fsadas")
isZipCode("sadas")
isZipCode("")
isZipCode(a)
isZipCode(2)
isZipCode(4)
isZipCode(f)
isZipCode("f)
isZipCode("f)
isZipCode("f")
source('~/.active-rstudio-document')
isZipCode("dsadsd")
isZipCode("06250")
isZipCode("6250")
isZipCode("625")
isZipCode("31233")
isZipCode(31233)
isZipCode(01233)
xstring<-"regular expressions are very powerful"
zstring<-gusb("^\\s+|\\s+$","",xstring)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
zstring
xstring
gsub("(\\w)(\\w)","\\u\\1\\l\\2",zstring,perl=TRUE)
gsub("(\\w)(\\w*)","\\u\\1\\l\\2",zstring,perl=TRUE)
gsub("(\\w)(\\w*)","\\U\\1\\L\\2",zstring,perl=TRUE)
gsub("(\\W)(\\W*)","\\U\\1\\L\\2",zstring,perl=TRUE)
final<-readLines("https://dribbble.com/shots/3133665-Creation-of-Adam")
final<-readLines("https://dribbble.com/shots/3133665-Creation-of-Adam")
final
str(final)
length(final)
x<-"ss"
dsa
final<-readLines("https://dribbble.com/shots/3133665-Creation-of-Adam")
x<-"ss"
length(x)
x<-"dsdasdasda"
length(x)
grep('<ul class="color-chips group">',final)
grep('<ul class=\"color-chips group\">',final)
grep('</ul',final)
final[570:595]
grep('<ul class="color-chips group">',final)
grep('</ul',final)
final[570:595]
final<-final[570:595]
grepl("background-color",final)
grepl('"background-color"',final)
grepl("background-color",final)
sum(grepl("background-color",final))
color<-grep("background-color",final,value=TRUE)
color
gregexpr("#[0-9A-Z]{6}",color)
substr(color,37,37+6)
sub("(.*)background-color:|\".*","",color)
color
sub("(.*)background-color:\".*","",color)
sub("(.*)background-color:|\".*","",color)
sub("(.*)background-color:.*","",color)
sub("(.*)background-color:","",color)
sub("(.*)background-color:","",color)
sub("|\".*","",color)
sub("\".*","",color)
isZipcode<-function(x){
grepl("\\d",x)
}
isZipcode(1)
isZipcode("1")
isZipcode("12")
isZipcode<-function(x){
grep("\\d",x)
}
isZipcode("12")
isZipcode("z")
isZipcode<-function(x){
grep("\\d*",x)
}
isZipcode("231534315")
isZipcode("23153z315")
isZipcode("23153315")
isZipcode<-function(x){
grep("\\d{5}",x)
}
isZipcode("23153315")
source('~/.active-rstudio-document')
isZipcode("31321dasdas")
isZipcode("dasdas")
isZipcode<-function(x){
grep("\\d{5}",x)
}
isZipcode("dasdas")
isZipcode("dasdas1234")
isZipcode("dasdas12345")
isZipcode<-function(x){
grep("^\\d{5}$",x)
}
isZipcode("dasdas12345")
isZipcode("06250")
isZipcode("0")
isZipcode("00000")
gsub("[a-zA-Z0-9.+-_]+@([a-zZ-A0-9.-]+\\.[a-zA-Z]{2,63})","\\1",
"haoxi.ma@uconn.edu")
gsub("[a-zA-Z0-9.+-_]+@([a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63})","\\1",
"haoxi.ma@uconn.edu")
gsub("[a-zA-Z0-9.+-_]+@([a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63})","\\2",
"haoxi.ma@uconn.edu")
gsub("([a-zA-Z0-9.+-_])+@([a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63})","\\1",
"haoxi.ma@uconn.edu")
gsub("([a-zA-Z0-9.+-_]*)+@([a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63})","\\1",
"haoxi.ma@uconn.edu")
gsub("([a-zA-Z0-9.+-_]*)+@([a-zA-Z0-9.-]+\.[a-zA-Z]{2,63})","\\2",
"haoxi.ma@uconn.edu")
gsub("([a-zA-Z0-9.+-_]*)+@([a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63})","\\2",
"haoxi.ma@uconn.edu")
gsub("([a-zA-Z0-9.+-_]*)+@([a-zA-Z0-9.-]+\.[a-zA-Z]{2,63})","\\2",
"haoxi.ma@uconn.edu")
gsub('([a-zA-Z0-9.+-_]*)+@([a-zA-Z0-9.-]+\.[a-zA-Z]{2,63})',"\\2",
"haoxi.ma@uconn.edu")
gsub("([a-zA-Z0-9.+-_]*)+@([a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63})","\\2",
"haoxi.ma@uconn.edu")
gsub("([a-zA-Z0-9.+-_]*)+@([a-zA-Z0-9.-]+.[a-zA-Z]{2,63})","\\2",
"haoxi.ma@uconn.edu")
gsub("([a-zA-Z0-9.+-_]*)+@([a-zA-Z0-9.-]+\.[a-zA-Z]{2,63})","\\2",
"haoxi.ma@uconn.edu")
gsub("([a-zA-Z0-9.+-_]*)+@([a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63})","\\2",
"haoxi.ma@uconn.edu")
gsub("([a-zA-Z0-9.+-_]*)+@([a-zA-Z0-9.-]+.[a-zA-Z]{2,63})","\\2",
"haoxi.ma@uconn.edu")
gsub("([a-zA-Z0-9.+-_]*)+@([a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63})","\\2",
"haoxi.ma@.edu")
gsub("([a-zA-Z0-9.+-_]*)+@([a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63})","\\1",
"haoxi.ma@.edu")
grep("([a-zA-Z0-9.+-_])+@([a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63})",
"haoxi.ma@.edu")
grep("([a-zA-Z0-9.+-_])+@([a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63})",
"haoxi.ma@uconn.edu")
grep("([a-zA-Z0-9.+-_])+@([a-zA-Z0-9.-]+.[a-zA-Z]{2,63})",
"haoxi.ma@uconn.edu")
grep("([a-zA-Z0-9.+-_])+@([a-zA-Z0-9.-]+.[a-zA-Z]{2,63})",
"haoxi.ma@uconnedu")
grep("([a-zA-Z0-9.+-_])+@([a-zA-Z0-9.-]+.[a-zA-Z]{2,63})",
"haoxi.ma@uconnedu")
grep("([a-zA-Z0-9.+-_])+@([a-zA-Z0-9.-]+\.[a-zA-Z]{2,63})",
"haoxi.ma@uconnedu")
grep("([a-zA-Z0-9.+-_])+@([a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63})",
"haoxi.ma@uconnedu")
1-exp(-2/3)
pf(1,1,1)
pnorm(0)
pnorm(0,0,1)
pexp(4,1/6)
1-pexp(4,1/2)
exp(-2)
pgamma(7,2,6)
pgamma(7,2,1\6)
pgamma(4,1,6)
pgamma(4,1,1/6)
pgamma(7,2,1/6)
1-pgamma(7,2,1/2)
3.4*3
pgamma(10.2,3,1/6)
1-pgamma(10.2,3,1/2)
2.8*4
pgamma(11.2,4,1/6)
1-pgamma(11.2,4,1/2)
qchisq(0.95,1)
exp(1.0986)
1-pchisq(8.4982,1)
1-pchisq(35.5784,21)
exp(0.1743)
qnorm
qnorm(0.025)
0.1743+1.96*c(-0.0231,0.0231)
mhx<-0.1743+1.96*c(-0.0231,0.0231)
exp(mhx)
1.7839^2
2467.16+2.14+119.3+5.71+17.69
2467.16+2.14
2467.16+2.14+119.3
2467.16+2.14+119.3+5.71
2612-2467.16
2612-2469.3
2612-2588.6
2612-2594.31
17.69+5.71
10*log(2612/10)+2
log(261.2)
log(261.2)*10
10*log(144.84/10)+2*2
10*log(142.7/10)+2*3
〖AIC〗_4=10*log(23.4/10)+2*4
10*log(23.4/10)+2*4
10*log(17.69/10)+2*5
10*log(23.4/10)+2*4
10*log(17.69/10)+2*5
17.69/5
2612/3.54-(10-2)
2612/3.54
737.8531-8
144.84/3.54-(10-2*2)
142.7/3.54-(10-2*3)
23.4/3.54-(10-2*4)
17.69/3.54-(10-2*5)
1.92/(1-0.44)
1-0.44
1.92/0.56
0.7/(1-0.71)
0.14/(1-0.25)
(-2.37)/(1-0.52)
(-0.01)/(1-0.12)
(-1.46)/(1-0.33)
0.75/(1-0.51)
(-1.1)/(1-0.38)
1.92/(1-0.24)
(-0.5)/(1-0.5)
x<-3.428571^2+2.413793^2+0.1866667^2+-4.9375^2
-4.9375^2
x<-3.428571^2+2.413793^2+0.1866667^2+(-4.9375)^2+(-0.01136364)^2
(-4.9375)^2
x<-3.428571^2+2.413793^2+0.1866667^2+(-4.9375)^2+(-0.01136364)^2+(-2.179104)^2+1.530612^2+(-1.774194)^2+2.526316^2+1
x
2.3-3.5
1.7-3.5
1.2-1.6
0.9-1.6
15+10+20
106.984-75.787
106.984-67.442
31+6.5+1.75
1-pchisq(39.542,4)
exp(1.33)
8.95918^2
80.27+64.38+2*-15.47+9*58.78+6*-3.28+6*8.28
(-47.17882-1.07436+3*16.96087)/√672.73
(-47.17882-1.07436+3*16.96087)/sqrt(672.73)
-47.17882-1.07436+3*16.96087
sqrt(672.73)
1-pt(abs(0.1013774),55)
2*(1-pt(abs(0.1013774),55))
0.90565-1.07436+10.82241*0.02+16.96087*0.1
ex pa(1.743825)
exp((1.743825)
exp(1.743825)
69.249-67.442
0.0566+1.7506
1-pchisq(1.807,2)
67.442/55
sqrt(0.27)
sqrt(0.28)
0.7004/0.5196152
(-0.5881)/0.5291503
1.1843/0.5291503
1-pt(1.347921,27)
2*(1-pt(1.347921,27))
2*(1-pt(1.111404,27))
2*(1-pt(2.238116,27))
41.054-33.672
1-pchisq(7.382,2)
30/100
0.7004-0.5881*0.3+1.1843*0.5
0.3^2*0.28+0.5^2*0.28+2*0.3*0.5*-0.04
0.09*0.28+0.25*0.28+0.6*0.5*-0.04
qnorm(0.1)
qnorm(0.25)
qnorm(0.025)
qnorm(0.05)
sqrt(0.0832)
1.11612-1.64*0.2884441
1.11612+1.64*0.2884441
1/(1/0.6430717+1)
1/0.6430717
1/2.555
1/(1/1.589168+1)
1-0.3913894
1-0.6137755
30-17
10/17
9/13
17*13
13+5+11+6+13+13+5+13+13+6+6+7+13+7+13+13+13
8+2+7+8+7+7+6+6
17*13
221-170-51
170/221
(-47.17882-1.07436+3*16.96087)/sqrt(672.73)
2*(1-pnorm(0.1013774,0,1))
2*(1-pnorm(0.1013774))
2(1-pnorm(1.347921))
2*(1-pnorm(1.347921))
2*(1-pnorm(1.111404))
2*(1-pnorm(2.238116))
0.6430717/(1+0.6430717)
pnorm(2.698)
1-pnorm(2.698)
1-0.003487872*2
ppoints(3)
1-0.5/3
0.5/3
qnorm(0.05)
qnorm(0.025)
#这个是wilcoxon signed rank test，有tied所以有warning
wilcox.test(stayhome,goabroad,alternative = "two.sided")
#####Q3
###a
twins<-read.csv("~/Desktop/5505/homework10/xid-48104659_1.dat",sep="")
stayhome<-twins$Sample1
goabroad<-twins$Sample2
#这个是wilcoxon signed rank test，有tied所以有warning
wilcox.test(stayhome,goabroad,alternative = "two.sided")
#这个是wilcoxon signed rank test，有tied所以有warning
wilcox.test(stayhome,goabroad,alternative = "two.sided",correct=FALSE)
vector("list",2)
matrix(0,10,2)
library(MASS)
library(dplyr)
library(tidyr)
library(exact2x2)
ADPA<-read.csv("ADPA.csv")
str(ADPA)
#Check whether TRTP is equal to TRTA
table(ADPA$TRTP==ADPA$TRTA)
#Data manipulate
ADPA$TRTA<-factor(ADPA$TRTA,
levels=c("Placebo","Test drug 70mg","Test drug 140mg","Test drug 210mg","Test drug 280mg"))
New_ADPA<-ADPA %>% select(SUBJID,TRTA,AVISITN,PARAMCD,CHG,PCHGCA1N,PCHGCA2N,PCHGCA3N,PCHGCA4N)
setwd("/Users/mahaoxi/Desktop/Uconn Academy/Phase2 datasets")
library(dplyr)
library(tidyr)
library(ggplot2)
library(ggrepel)
library(scales)
library(carData)
library(car)#Anova
library(asbio)#pairwise
library(pastecs)#descriptive analysis
library(exact2x2)#fisher exact test
library(forestplot)
library(corrplot)
#######Q4(a)
ADPA<-read.csv("ADPA.csv")
str(ADPA)
#Check whether TRTP is equal to TRTA
table(ADPA$TRTP==ADPA$TRTA)
#Data manipulate
ADPA$TRTA<-factor(ADPA$TRTA,
levels=c("Placebo","Test drug 70mg","Test drug 140mg","Test drug 210mg","Test drug 280mg"))
New_ADPA<-ADPA %>% select(SUBJID,TRTA,AVISITN,PARAMCD,CHG,PCHGCA1N,PCHGCA2N,PCHGCA3N,PCHGCA4N)
View(ADPA)
########Q5
ADSL<-read.csv("ADSL.csv")
View(ADSL)
Secondary_PASI_1<-New_ADPA %>% dplyr::select(SUBJID,TRTA,AVISITN,PARAMCD,PCHGCA1N,PCHGCA2N,PCHGCA3N,PCHGCA4N) %>%
dplyr::filter(PARAMCD=="PASI",AVISITN==6)
Secondary_PASI_2<-ADSL %>% dplyr::select(SUBJID,AGE,SEX,WEIGHT,PASI)
#merge two dataset
Secondary_PASI<-left_join(Secondary_PASI_2,Secondary_PASI_1)
str(Secondary_PASI)
#PASI75 at week 12
model3<-glm(PCHGCA2N~AGE+SEX+WEIGHT+PASI+TRTA,data = Secondary_PASI,family = "binomial")
summary(model3)
Anova(model3,type=3)
#PASI50 at week 12
model4<-glm(PCHGCA1N~AGE+SEX+WEIGHT+PASI+TRTA,data = Secondary_PASI,family = "binomial")
summary(model4)
Anova(model4,type=3)
#PASI90 at week 12
model5<-glm(PCHGCA3N~AGE+SEX+WEIGHT+PASI+TRTA,data = Secondary_PASI,family = "binomial")
summary(model5)
Anova(model5,type=3)
#PASI100 at week 12
model6<-glm(PCHGCA4N~AGE+SEX+WEIGHT+PASI+TRTA,data = Secondary_PASI,family = "binomial")
summary(model6)
Anova(model6,type=3)
#sPGA of clear or almost clear at week 12
Secondary_CA_1<-ADPA %>% dplyr::select(SUBJID,TRTA,AVISITN,PARAMCD,AVAL) %>% dplyr::filter(PARAMCD=="sPGA",AVISITN==6) %>%
select(-c(AVISITN,PARAMCD))
Secondary_CA_2<-ADSL %>% dplyr::select(SUBJID,AGE,SEX,WEIGHT,SPGA)
#merge two dataset
Secondary_CA<-left_join(Secondary_CA_2,Secondary_CA_1)
Secondary_CA$Clear_or_almost<-ifelse((Secondary_CA$AVAL==0|Secondary_CA$AVAL==1),1,0)
Secondary_CA$Clear_or_almost<-as.factor(Secondary_CA$Clear_or_almost)
str(Secondary_CA)
#logistic
model3<-glm(Clear_or_almost~AGE+SEX+WEIGHT+SPGA+TRTA,data = Secondary_CA,family = "binomial")
summary(model3)
Anova(model3,type=3)
#sPGA of clear at week 12
Secondary_C<-Secondary_CA[,-ncol(Secondary_CA)]
Secondary_C$clear<-ifelse((Secondary_C$AVAL==0),1,0)
Secondary_C$clear<-as.factor(Secondary_C$clear)
str(Secondary_C)
#logistic
model4<-glm(clear~AGE+SEX+WEIGHT+SPGA+TRTA,data = Secondary_C,family = "binomial")
summary(model4)
Anova(model4,type=3)
Secondary_CA_1<-ADPA %>% dplyr::select(SUBJID,TRTA,AVISITN,PARAMCD,AVAL) %>% dplyr::filter(PARAMCD=="sPGA",AVISITN==6) %>%
select(-c(AVISITN,PARAMCD))
Secondary_CA_2<-ADSL %>% dplyr::select(SUBJID,AGE,SEX,WEIGHT,SPGA)
#merge two dataset
Secondary_CA<-left_join(Secondary_CA_2,Secondary_CA_1)
Secondary_CA$Clear_or_almost<-ifelse((Secondary_CA$AVAL==0|Secondary_CA$AVAL==1),1,0)
Secondary_CA$Clear_or_almost<-as.factor(Secondary_CA$Clear_or_almost)
str(Secondary_CA)
#logistic
model3<-glm(Clear_or_almost~AGE+SEX+WEIGHT+SPGA+TRTA,data = Secondary_CA,family = "binomial")
summary(model3)
Anova(model3,type=3)
View(Secondary_CA)
#subgroup fisher exact test
Age_20_40<-Secondary_CA %>% filter(AGE>=20&AGE<40)
View(Age_20_40)
table(Age_20_40$TRTA,Age_20_40$Clear_or_almost)
Age_20_40<-Secondary_CA %>% filter(AGE>=20&AGE<40)
table(Age_20_40$TRTA,Age_20_40$Clear_or_almost)
Age1<-matrix(c(13, 3, 18, 1), ncol = 2,byrow = TRUE)
fisher.test(Age1, alternative = "greater", conf.int=FALSE)
Age_40_60<-Secondary_CA %>% filter(AGE>=40&AGE<60)
table(Age_40_60$TRTA,Age_40_60$Clear_or_almost)
Age2<-matrix(c(15, 2, 13, 5), ncol = 2,byrow = TRUE)
fisher.test(Age2, alternative = "greater", conf.int=FALSE)
Age_60_80<-Secondary_CA %>% filter(AGE>=60&AGE<80)
table(Age_60_80$TRTA,Age_60_80$Clear_or_almost)
Age_60_80<-Secondary_CA %>% filter(AGE>=60&AGE<80)
table(Age_60_80$TRTA,Age_60_80$Clear_or_almost)
Age3<-matrix(c(5, 1, 1, 2), ncol = 2,byrow = TRUE)
fisher.test(Age3, alternative = "greater", conf.int=FALSE)
model5<-glm(PCHGCA3N~AGE+SEX+WEIGHT+PASI+TRTA,data = Secondary_PASI,family = "binomial")
summary(model5)
Anova(model5,type=3)
View(Secondary_PASI)
Age_20_40<-Secondary_PASI %>% filter(AGE>=20&AGE<40)
table(Age_20_40$TRTA,Age_20_40$Clear_or_almost)
View(Age_20_40)
Age_20_40<-Secondary_PASI %>% filter(AGE>=20&AGE<40)
table(Age_20_40$TRTA,Age_20_40$PCHGCA3N)
Age1<-matrix(c(12, 4, 17, 2), ncol = 2,byrow = TRUE)
fisher.test(Age1, alternative = "greater", conf.int=FALSE)
Age_40_60<-Secondary_PASI %>% filter(AGE>=40&AGE<60)
table(Age_40_60$TRTA,Age_40_60$PCHGCA3N)
Age2<-matrix(c(13, 4, 12, 6), ncol = 2,byrow = TRUE)
fisher.test(Age2, alternative = "greater", conf.int=FALSE)
Age_60_80<-Secondary_PASI %>% filter(AGE>=60&AGE<80)
table(Age_60_80$TRTA,Age_60_80$PCHGCA3N)
table(Age_60_80$TRTA,Age_60_80$PCHGCA3N)
Age3<-matrix(c(3, 3, 1, 2), ncol = 2,byrow = TRUE)
fisher.test(Age3, alternative = "greater", conf.int=FALSE)
model3<-glm(PCHGCA2N~AGE+SEX+WEIGHT+PASI+TRTA,data = Secondary_PASI,family = "binomial")
summary(model3)
Anova(model3,type=3)
Age_20_40<-Secondary_PASI %>% filter(AGE>=20&AGE<40)
table(Age_20_40$TRTA,Age_20_40$PCHGCA2N)
table(Age_20_40$TRTA,Age_20_40$PCHGCA2N)
Age1<-matrix(c(13, 2, 18, 1), ncol = 2,byrow = TRUE)
fisher.test(Age1, alternative = "greater", conf.int=FALSE)
Age_40_60<-Secondary_PASI %>% filter(AGE>=40&AGE<60)
table(Age_40_60$TRTA,Age_40_60$PCHGCA2N)
Age2<-matrix(c(13, 4, 14, 4), ncol = 2,byrow = TRUE)
fisher.test(Age2, alternative = "greater", conf.int=FALSE)
Age_60_80<-Secondary_PASI %>% filter(AGE>=60&AGE<80)
table(Age_60_80$TRTA,Age_60_80$PCHGCA2N)
Age3<-matrix(c(4, 2, 1, 2), ncol = 2,byrow = TRUE)
fisher.test(Age3, alternative = "greater", conf.int=FALSE)
